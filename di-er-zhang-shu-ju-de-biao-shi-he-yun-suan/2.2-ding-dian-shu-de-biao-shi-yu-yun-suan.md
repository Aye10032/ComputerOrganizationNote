# 2.2 定点数的表示与运算

## 2.2.1 定点数的表示

### 1、无符号数和有符号数

**无符号数**：整个机器字长的全部二进制位均为数值位，没有符号位，相当于数的**绝对值**。

n位无符号数的表示范围是 $$0 \sim  2^{n}-1$$ 

#### 有符号数

* **真值**：该数字的实际值，包含正负；
* **机器数**：用数字表示正负号的二进制数
* **定点小数**：约定符号位后面就是小数点
  * +0.75D = 0.11B
  * -0.75D =1.11B
  * n位尾数的定点小数的表示范围： $$-(1- 2^{-n}) \sim  (1- 2^{-n})$$
* **定点整数**：约定小数点在数值的最后
  * +3D = 011.B
  * -3D = 111.B
  * n位尾数的定点整数的表示范围：$$-(2^{-n}-1) \sim  (2^{-n}-1)$$

### 2、原码、补码、反码、移码

{% hint style="warning" %}
整数的“，”和小数的“.”都是用于表示分割，在计算机中实际不存在
{% endhint %}

#### （1）原码

**用最高位表示符号位**，设 x 为真值，则有：

纯小数的原码： 

$$
[x]_{\text {原 }}= \begin{cases}x & 1>x \geqslant 0 \\ 1-x=1+|x| & 0 \geqslant x>-1\end{cases}
$$

纯整数的原码（n为整数位数）：

$$
[x]_{\text {原 }}= \begin{cases}0, x & 2^{n}>x \geqslant 0 \\ 2^{n}-x=2^{n}+|x| & 0 \geqslant x>-2^{n}\end{cases}
$$

#### （2）补码

* 正数的补码：补码与原码相同
* 负数的补码：原码符号位不变，数值位取反，末位加1
* 当一个正数和一个负数互为补数时，他们的绝对值之和称为**模数**。
  * 类似于时钟，+2 = -10，12为模数

纯小数的补码：

$$
[x]_{\text {补}}=\left\{\begin{array}{ll}
 x & 1>x \geqslant 0 \\2+x=2-|x| & 0 > x \geqslant-1
\end{array} \quad\left(\bmod 2\right)\right.
$$

纯整数的补码

$$
[x]_{\text {补}}=\left\{\begin{array}{ll}
0, x & 2^{n}>x \geqslant 0 \\
2^{n+1}+x=2^{n+1}-|x| & 0 \geqslant x \geqslant-2^{n}
\end{array} \quad\left(\bmod 2^{\mathrm{n}+1}\right)\right.
$$

#### （3）反码

* 正数的反码：反码与原码相同
* 负数的反码：原码符号位不变，数值位取反

#### （4）移码

移码就是在真值X上加上一个常数\(偏置值\)  ，通常这个常数取 $$2^{n}$$ 。

> 例： $$x_{1}=+10101$$，$$x_{2}=-10101$$，字长为8位，则其移码表示为:
>
> $$\begin{align} [x_{1}]_{移} &= 2^{7} + 10101\\&=10000000+10101 \\&= 1,0010101 \end{align}$$ $$\begin{align} [x_{2}]_{移} &= 2^{7} + (-10101)\\&=10000000+(-10101) \\&= 0,1101011 \end{align}$$



## 2.2.2 定点数的运算

### 1、定点数的移位运算

对于r进制而言：

* 右移n位： $$\div r^{n}$$ 
* 左移n位： $$\times r^{n}$$ 

可以与加减法结合实现乘除法。

#### （1）算术移位

机器码采用有符号数，符号位不参与

* 正数
  * 空位补0
* 负数
  * 原码：0
  * 补码：
    * 左移：0
    * 右移：1
  * 反码：1

