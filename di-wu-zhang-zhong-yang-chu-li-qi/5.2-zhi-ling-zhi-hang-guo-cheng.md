# 5.2 指令执行过程

## 5.2.1 指令周期

{% hint style="success" %}
指令周期：CPU从主存中取出并执行一条指令的全部时间。
{% endhint %}

![](../.gitbook/assets/机器周期.png)

一个**指令周期**由若干<mark style="color:orange;">**机器周期**</mark>表示，机器周期也叫**CUP周期**。

一个**机器周期**包含若干<mark style="color:orange;">**时钟周期（节拍）**</mark>，时钟周期是CPU操作的最基本单位。

* 每个指令周期内机器周期可以不相等
* 每个机器周期内节拍数也可以不相等 

完整的指令周期如下图所示：

![](../.gitbook/assets/指令周期流程.png)

运行时，通过**触发器**来判断当前处于指令周期内的哪一个阶段。

## 5.2.2 指令周期的数据流

### 1、寻址周期

![](../.gitbook/assets/取址周期.png)

1. 将当前指令地址送到<mark style="color:purple;">**存储地址寄存器**</mark>
   1. $$\text{(PC)} \to \text{MAR}$$
2. CU发出控制信号，由控制总线传到主存，标明是<mark style="color:orange;">**读信号**</mark>
   1. $$1 \to \text{R}$$
3. 将MAR指向的主存中的内容经<mark style="color:purple;">**数据总线**</mark>传至MDR
   1. $$\text{M(MAR)} \to \text{MDR}$$
4. 将MDR中的数据送入<mark style="color:purple;">**指令寄存器IR**</mark>
   1. $$\text{(MDR)} \to \text{IR}$$
5. CU发出控制信号，形成下一条指令的地址
   1. $$\text{(PC)}+1 \to \text{PC}$$
